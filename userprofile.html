<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GetInTheCar ‚Äî Profile</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="dark">

<!-- SIDEBAR -->
<aside class="sidebar card fade-in">
  <div class="brand">
    <div class="logo">NH</div>
    <div>
      <h2>GetInTheCar</h2>
      <div class="small muted">Your Uni BEST E-Hailing</div>
    </div>
  </div>

  <nav>
    <a href="user.html">üöó Book Ride</a>
    <a href="myrides.html">üïí My Rides</a>
    <a href="userprofile.html" class="active">üë§ Profile</a>
    <a href="index.html">üîê Log Out</a>
  </nav>

  <div class="toggle-row">
    <div class="small muted">Dark Mode</div>
    <div id="darkSwitch" class="switch dark-toggle-on" title="Toggle dark mode">
      <div class="knob"></div>
    </div>
  </div>
</aside>

<!-- MAIN -->
<main class="main">
  <div class="topbar">
    <div>
      <div class="header">My Profile</div>
      <div class="small muted">Manage your personal information and ride preferences</div>
    </div>
    <div style="display:flex;align-items:center;gap:12px;">
      <button class="btn btn-secondary" onclick="refreshProfile()">Refresh</button>
      <button class="btn btn-primary" onclick="editProfile()">Edit Profile</button>
    </div>
  </div>

  <!-- Profile Content -->
  <div class="profile-container">
    <!-- Profile Header -->
    <div class="card profile-header">
      <div class="profile-avatar-section">
        <div class="profile-avatar">
          <div class="avatar-icon">üë§</div>
          <div class="avatar-status"></div>
        </div>
        <div class="profile-info">
          <h1 id="profileName"> Alif Mukhlis bin Mohd Tarmizi</h1>
          <div class="small muted">UiTM Arau Student ‚Ä¢ Passenger</div>
          <div class="profile-badges">
            <span class="badge verified">‚úì Verified Student</span>
            <span class="badge member">‚≠ê Regular Member</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Details -->
    <div class="profile-details">
      <!-- Personal Information Card -->
      <div class="card profile-section fade-in">
        <div class="section-header">
          <h3>üìã Personal Information</h3>
          <button class="small-btn" onclick="editPersonalInfo()">Edit</button>
        </div>
        
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Full Name</div>
            <div class="info-value" id="fullName"> Alif Mukhlis bin Mohd Tarmizi</div>
          </div>
          <div class="info-item">
            <div class="info-label">Age</div>
            <div class="info-value" id="age">21</div>
          </div>
          <div class="info-item">
            <div class="info-label">Gender</div>
            <div class="info-value" id="gender">Male</div>
          </div>
          <div class="info-item">
            <div class="info-label">Birthday</div>
            <div class="info-value" id="birthday">06 July 2004</div>
          </div>
          <div class="info-item">
            <div class="info-label">Student ID</div>
            <div class="info-value" id="studentId">2025161705</div>
          </div>
          <div class="info-item">
            <div class="info-label">Email</div>
            <div class="info-value" id="email">2025161705@student.uitm.edu.my</div>
          </div>
          <div class="info-item">
            <div class="info-label">Phone</div>
            <div class="info-value" id="phone">+60 19-545 5878</div>
          </div>
          <div class="info-item">
            <div class="info-label">Account Created</div>
            <div class="info-value" id="joinedDate">15 January 2024</div>
          </div>
        </div>
      </div>

      <!-- Student Information Card -->
      <div class="card profile-section fade-in" style="animation-delay: 0.1s">
        <div class="section-header">
          <h3>üéì Student Details</h3>
          <button class="small-btn" onclick="editStudentInfo()">Edit</button>
        </div>
        
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Institution</div>
            <div class="info-value">Universiti Teknologi MARA (UiTM)</div>
          </div>
          <div class="info-item">
            <div class="info-label">Campus</div>
            <div class="info-value">UiTM Arau, Perlis</div>
          </div>
          <div class="info-item">
            <div class="info-label">Faculty</div>
            <div class="info-value">College of Computing, Informatics and Mathematics</div>
          </div>
          <div class="info-item">
            <div class="info-label">Program</div>
            <div class="info-value">Bachelor of Computer Science (Hons.) Netcentric Computing</div>
          </div>
          <div class="info-item">
            <div class="info-label">Current Semester</div>
            <div class="info-value">Semester 4</div>
          </div>
          <div class="info-item">
            <div class="info-label">Student Status</div>
            <div class="info-value">Active</div>
          </div>
        </div>
      </div>

      <!-- Ride Statistics Card -->
      <div class="card profile-section fade-in" style="animation-delay: 0.2s">
        <div class="section-header">
          <h3>üìä Ride Statistics</h3>
          <div class="small muted">As a passenger</div>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üöó</div>
            <div class="stat-content">
              <div class="stat-value" id="totalRides">47</div>
              <div class="stat-label">Total Rides Taken</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚≠ê</div>
            <div class="stat-content">
              <div class="stat-value" id="rating">4.8</div>
              <div class="stat-label">Passenger Rating</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-content">
              <div class="stat-value" id="totalSpent">RM 324.50</div>
              <div class="stat-label">Total Spent</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üëë</div>
            <div class="stat-content">
              <div class="stat-value" id="memberLevel">Gold</div>
              <div class="stat-label">Loyalty Tier</div>
            </div>
          </div>
        </div>
        
        <div class="stats-details">
          <div class="stat-detail">
            <span>Most Frequent Destination:</span>
            <strong>UiTM Arau Campus</strong>
          </div>
          <div class="stat-detail">
            <span>Favorite Vehicle Type:</span>
            <strong>Car (85% of rides)</strong>
          </div>
          <div class="stat-detail">
            <span>Average Ride Distance:</span>
            <strong>4.2 km</strong>
          </div>
          <div class="stat-detail">
            <span>Last Ride:</span>
            <strong>Yesterday, 2:15 PM</strong>
          </div>
        </div>
      </div>

      <!-- Preferences Card -->
      <div class="card profile-section fade-in" style="animation-delay: 0.3s">
        <div class="section-header">
          <h3>‚öôÔ∏è Ride Preferences</h3>
          <button class="small-btn" onclick="editPreferences()">Edit</button>
        </div>
        
        <div class="preferences-list">
          <div class="preference-item">
            <span>Preferred Vehicle Type:</span>
            <strong>Car</strong>
          </div>
          <div class="preference-item">
            <span>Default Payment Method:</span>
            <strong>e-Wallet (Touch 'n Go)</strong>
          </div>
          <div class="preference-item">
            <span>Music Preference:</span>
            <strong>Driver's Choice</strong>
          </div>
          <div class="preference-item">
            <span>Conversation:</span>
            <strong>Casual (Optional)</strong>
          </div>
          <div class="preference-item">
            <span>Air Conditioning:</span>
            <strong>On</strong>
          </div>
          <div class="preference-item">
            <span>Safety Features:</span>
            <strong>All Enabled</strong>
          </div>
        </div>
      </div>

      <!-- Safety & Emergency Card -->
      <div class="card profile-section fade-in" style="animation-delay: 0.4s">
        <div class="section-header">
          <h3>üõ°Ô∏è Safety & Emergency</h3>
          <button class="small-btn" onclick="editSafetySettings()">Edit</button>
        </div>
        
        <div class="safety-grid">
          <div class="safety-item">
            <div class="safety-icon">üì±</div>
            <div class="safety-info">
              <div class="safety-title">Emergency Contact</div>
              <div class="safety-value">Mohd Tarmizi Bin Shaharuddin (Father): +60 19-224 1501</div>
            </div>
          </div>
          <div class="safety-item">
            <div class="safety-icon">üìç</div>
            <div class="safety-info">
              <div class="safety-title">Home Address</div>
              <div class="safety-value">No 13, Persiaran Bandar Baru Tambun, Bandar Baru Tambun, 31400, Ipoh, Perak</div>
            </div>
          </div>
          <div class="safety-item">
            <div class="safety-icon">üö®</div>
            <div class="safety-info">
              <div class="safety-title">SOS Feature</div>
              <div class="safety-value">Enabled (Press 3x power button)</div>
            </div>
          </div>
          <div class="safety-item">
            <div class="safety-icon">üëÅÔ∏è</div>
            <div class="safety-info">
              <div class="safety-title">Ride Sharing</div>
              <div class="safety-value">Share with 1 emergency contact</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="card quick-actions fade-in" style="animation-delay: 0.5s">
      <h3>üöÄ Quick Actions</h3>
      <div class="action-buttons">
        <button class="btn btn-secondary" onclick="changePassword()">Change Password</button>
        <button class="btn btn-primary" onclick="bookRide()">Book New Ride</button>
      </div>
      <div class="small muted" style="margin-top: 12px;">
        Need help? <a href="#" style="color: var(--accent-1);">Contact Support</a> or visit our <a href="#" style="color: var(--accent-1);">Help Center</a>
      </div>
    </div>
  </div>
</main>

<!-- Edit Profile Modal -->
<div id="editModal" class="modal-overlay" style="display: none;">
  <div class="modal card">
    <div class="modal-header">
      <div class="modal-title">Edit Profile</div>
      <button class="modal-close" onclick="closeEditModal()">√ó</button>
    </div>
    <div class="modal-content">
      <div class="small muted">Update your personal information</div>
      
      <div style="margin: 20px 0;">
        <label>Full Name</label>
        <input type="text" class="input" id="editName" value="Muhammad Alif Mukhlis bin Mohd Tarmizi">
        
        <label>Email</label>
        <input type="email" class="input" id="editEmail" value="2025161705@student.uitm.edu.my">
        
        <label>Phone Number</label>
        <input type="tel" class="input" id="editPhone" value="+60 19-545 5878">
        
        <label>Birthday</label>
        <input type="date" class="input" id="editBirthday" value="2004-07-06">
        
        <div style="display: flex; gap: 20px; margin-top: 10px;">
          <div style="flex: 1;">
            <label>Gender</label>
            <select class="input" id="editGender">
              <option value="male" selected>Male</option>
              <option value="female">Female</option>
            </select>
          </div>
          <div style="flex: 1;">
            <label>Age</label>
            <input type="number" class="input" id="editAge" value="20" min="16" max="100">
          </div>
        </div>
        
        <label>Student ID</label>
        <input type="text" class="input" id="editStudentId" value="2022898766">
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
      <button class="btn btn-primary" onclick="saveProfile()">Save Changes</button>
    </div>
  </div>
</div>

<script>
  // Theme toggle logic
  const body = document.body;
  const darkSwitch = document.getElementById('darkSwitch');
  darkSwitch.addEventListener('click', () => {
    const knob = darkSwitch.querySelector('.knob');
    darkSwitch.classList.toggle('dark-toggle-on');
    body.classList.toggle('dark');
    if (body.classList.contains('dark')) {
      knob.style.left = '25px';
      knob.style.boxShadow = '0 10px 30px rgba(255, 221, 0, 0.12)';
    } else {
      knob.style.left = '3px';
      knob.style.boxShadow = '0 6px 18px rgba(255, 59, 48, 0.12)';
    }
  });

  // Profile data
  const profileData = {
    fullName: "Muhammad Alif Mukhlis bin Mohd Tarmizi",
    age: 21,
    gender: "Male",
    birthday: "06 July 2004",
    studentId: "2025161705",
    email: "2025161705@student.uitm.edu.my",
    phone: "+60 19-545 5878",
    joinedDate: "15 January 2025161705",
    totalRides: 47,
    rating: 4.8,
    totalSpent: "RM 324.50",
    memberLevel: "Gold"
  };

  // Edit profile modal
  function editProfile() {
    document.getElementById('editName').value = profileData.fullName;
    document.getElementById('editEmail').value = profileData.email;
    document.getElementById('editPhone').value = profileData.phone;
    document.getElementById('editBirthday').value = "2004-03-15";
    document.getElementById('editGender').value = profileData.gender.toLowerCase();
    document.getElementById('editAge').value = profileData.age;
    document.getElementById('editStudentId').value = profileData.studentId;
    
    document.getElementById('editModal').style.display = 'flex';
  }

  function closeEditModal() {
    document.getElementById('editModal').style.display = 'none';
  }

  function saveProfile() {
    // Get updated values
    const updatedData = {
      fullName: document.getElementById('editName').value,
      email: document.getElementById('editEmail').value,
      phone: document.getElementById('editPhone').value,
      birthday: formatDate(document.getElementById('editBirthday').value),
      gender: document.getElementById('editGender').value.charAt(0).toUpperCase() + 
               document.getElementById('editGender').value.slice(1),
      age: parseInt(document.getElementById('editAge').value),
      studentId: document.getElementById('editStudentId').value
    };

    // Update profile data
    Object.assign(profileData, updatedData);

    // Update displayed values
    document.getElementById('fullName').textContent = profileData.fullName;
    document.getElementById('age').textContent = profileData.age;
    document.getElementById('gender').textContent = profileData.gender;
    document.getElementById('birthday').textContent = profileData.birthday;
    document.getElementById('studentId').textContent = profileData.studentId;
    document.getElementById('email').textContent = profileData.email;
    document.getElementById('phone').textContent = profileData.phone;
    document.getElementById('profileName').textContent = profileData.fullName;

    closeEditModal();
    alert('Profile updated successfully!');
  }

  function formatDate(dateString) {
    const date = new Date(dateString);
    const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                    'July', 'August', 'September', 'October', 'November', 'December'];
    return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
  }

  // Other edit functions
  function editPersonalInfo() {
    editProfile();
  }

  function editStudentInfo() {
    alert('Student information editing coming soon!');
  }

  function editPreferences() {
    alert('Ride preferences editing coming soon!');
  }

  function editSafetySettings() {
    alert('Safety settings editing coming soon!');
  }

  // Quick action functions
  function refreshProfile() {
    alert('Profile refreshed!');
  }

  function changePassword() {
    const newPassword = prompt('Enter new password:');
    if (newPassword) {
      alert('Password changed successfully!');
    }
  }

  function managePayment() {
    alert('Redirecting to payment methods...');
  }

  function privacySettings() {
    alert('Opening privacy settings...');
  }

  function bookRide() {
    window.location.href = 'user.html';
  }

  // Close modal on escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeEditModal();
    }
  });

  // Close modal on overlay click
  document.getElementById('editModal').addEventListener('click', (e) => {
    if (e.target === document.getElementById('editModal')) {
      closeEditModal();
    }
  });
</script>

<style>
  /* Profile Page Specific Styles */
  .profile-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .profile-header {
    padding: 30px;
  }

  .profile-avatar-section {
    display: flex;
    gap: 24px;
    align-items: center;
  }

  .profile-avatar {
    position: relative;
    width: 120px;
    height: 120px;
  }

  .avatar-icon {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-1), var(--accent-2));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    color: #300;
    box-shadow: 0 10px 30px rgba(255, 59, 48, 0.2);
  }

  .avatar-status {
    position: absolute;
    bottom: 8px;
    right: 8px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #00ff00;
    border: 3px solid var(--panel);
  }

  .profile-info h1 {
    margin: 0 0 8px 0;
    font-size: 24px;
    font-weight: 700;
  }

  .profile-badges {
    display: flex;
    gap: 8px;
    margin-top: 12px;
  }

  .badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
  }

  .badge.verified {
    background: linear-gradient(90deg, rgba(0, 255, 0, 0.1), rgba(0, 200, 0, 0.05));
    color: #00ff00;
    border: 1px solid rgba(0, 255, 0, 0.2);
  }

  .badge.member {
    background: linear-gradient(90deg, rgba(255, 221, 0, 0.1), rgba(255, 204, 0, 0.05));
    color: #ffdd00;
    border: 1px solid rgba(255, 221, 0, 0.2);
  }

  .profile-details {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .profile-section {
    padding: 24px;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .section-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 700;
  }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }

  .info-item {
    padding: 12px 0;
    border-bottom: 1px solid rgba(255, 85, 85, 0.1);
  }

  .info-label {
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 4px;
  }

  .info-value {
    font-size: 16px;
    font-weight: 600;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .stat-card {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    border-radius: 12px;
    background: rgba(255, 85, 85, 0.05);
    border: 1px solid rgba(255, 85, 85, 0.1);
  }

  .stat-icon {
    font-size: 24px;
    width: 50px;
    height: 50px;
    border-radius: 10px;
    background: linear-gradient(135deg, rgba(255, 85, 85, 0.1), rgba(255, 221, 0, 0.05));
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .stat-content {
    flex: 1;
  }

  .stat-value {
    font-size: 20px;
    font-weight: 800;
    color: var(--accent-1);
    margin-bottom: 4px;
  }

  .stat-label {
    font-size: 12px;
    color: var(--muted);
  }

  .stats-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 12px;
    margin-top: 16px;
  }

  .stat-detail {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: rgba(255, 85, 85, 0.02);
    border-radius: 8px;
    font-size: 14px;
  }

  .preferences-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .preference-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    background: rgba(255, 85, 85, 0.02);
    border-radius: 8px;
    font-size: 14px;
  }

  .safety-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 16px;
  }

  .safety-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    border-radius: 12px;
    background: rgba(255, 85, 85, 0.02);
    border: 1px solid rgba(255, 85, 85, 0.1);
  }

  .safety-icon {
    font-size: 20px;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(135deg, rgba(255, 85, 85, 0.1), rgba(255, 221, 0, 0.05));
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .safety-info {
    flex: 1;
  }

  .safety-title {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .safety-value {
    font-size: 12px;
    color: var(--muted);
  }

  .quick-actions {
    padding: 24px;
  }

  .action-buttons {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
    margin-top: 16px;
  }

  @media (max-width: 768px) {
    .profile-avatar-section {
      flex-direction: column;
      text-align: center;
    }
    
    .info-grid {
      grid-template-columns: 1fr;
    }
    
    .stats-grid {
      grid-template-columns: 1fr 1fr;
    }
    
    .action-buttons {
      grid-template-columns: 1fr;
    }
    
    .safety-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
</body>

</html>
